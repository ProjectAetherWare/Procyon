<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Procyon Games</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&display=swap');

body {
  margin: 0;
  padding: 0;
  font-family: 'Fira Code', monospace;
  background: #0a0a0a;
  color: white;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  overflow-x: hidden;
}

/* Animated grid background */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background:
    linear-gradient(to right, rgba(255,255,255,0.07) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,0.07) 1px, transparent 1px);
  background-size: 80px 80px;
  animation: gridmove 30s linear infinite;
  z-index: -1;
}
@keyframes gridmove {
  0% { background-position: 0 0, 0 0; }
  100% { background-position: 80px 80px, 80px 80px; }
}

header {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  text-align: center;
}
header img {
  width: 200px;
  filter: invert(1);
  margin-bottom: 20px;
}

#searchBar {
  padding: 10px;
  width: 90%;
  max-width: 600px;
  border-radius: 12px;
  border: none;
  outline: none;
  font-size: 16px;
}

#gamesContainer {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 20px;
  padding: 20px;
  flex: 1;
}

.game-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  background: rgba(255,255,255,0.05);
  border-radius: 12px;
  padding: 12px;
  transition: background 0.2s;
  cursor: pointer;
  position: relative;
}
.game-card:hover { background: rgba(255,255,255,0.15); }

.game-card img {
  width: 64px;
  height: 64px;
  margin-bottom: 10px;
  filter: invert(1);
}

.game-card span {
  font-size: 14px;
  text-align: center;
}

.star-btn {
  position: absolute;
  top: 6px;
  right: 6px;
  font-size: 18px;
  color: gold;
  cursor: pointer;
  user-select: none;
}

.pagination {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin: 20px;
}
.page-btn {
  padding: 6px 12px;
  background: rgba(255,255,255,0.1);
  border-radius: 8px;
  cursor: pointer;
  transition: background 0.2s;
}
.page-btn:hover { background: rgba(255,255,255,0.2); }
.page-btn.active { border: 2px solid white; }

</style>
</head>
<body>

<header>
  <img src="/public/logo.png" alt="Procyon Logo">
  <input type="text" id="searchBar" placeholder="Search games...">
</header>

<div id="gamesContainer"></div>

<div class="pagination" id="pagination"></div>

<script>
const games = [
  "1","1v1space","2048","8ball","9007199254740992","BTD4","Bitlife","Bloxorz",
  "Chess","DogeMiner","Henrystickman","HexGL","L2F2","L2F3","Minecraft","OT",
  "PE","SandboxelsOLD","Subway","TIOachievementunlocked","adrenalinechallenge",
  "among-us","avalanche","backrooms","basketball-stars","battleforgondor",
  "bigredbutton","blackknight","bloonstd","bloonstd2","bloxors","boxhead2play",
  "breakingthebank","btts","cannon-basketball-4","canyondefense","cattle3d",
  "cell-machine","championarcher","chrome-dino","circlo","connect3","cookie-clicker",
  "craftmine","creativekillchamber","csgo-clicker","ctr","ctr-holiday","ctr-tr",
  "cubefield","cupcake2048","deal-or-no-deal","death-run-3d","defend-the-tank",
  "doge2048","doodle-jump","doom","doublewires","draw-the-hill","ducklife1",
  "ducklife2","ducklife3","edgenotfound","elasticman","endlesswar3","evil-glitch",
  "exo","factoryballs","fake-virus","flappy-2048","flappy-bird","flashtetris",
  "game-inside","geodash","getaway-shootout","gimme-the-airpod","glass-city",
  "google-snake","grindcraft","hackertype","hba","helicopter","hexempire",
  "hextris","idle-breakout","idle-shark","impossiblequiz","interactivebuddy",
  "just-one-boss","kittencannon","krunker","learntofly","mario","matrixrampage",
  "meme2048","minecraft-classic","minesweeper","miniputt","missiles","motox3m",
  "motox3m-pool","motox3m-spooky","motox3m-winter","n-gon","ns-shaft","om-bounce",
  "pandemic2","papaspizzaria","paperio2","papery-planes","particle-clicker",
  "polybranch","portalflash","push-the-square","push-your-luck","retro-bowl",
  "rh","rolly-vortex","rooftop-snipers","sand-game","sandboxelsslope","sm64",
  "sm64-main","smashkarts","smokingbarrels","snowbattle","soldier-legend","solitaire",
  "sort-the-court","soundboard","stack","stack-bump-3d","stealingthediamond",
  "stickwar","stormthehouse2","superhot","swerve","tacticalassasin2",
  "tank-trouble-2","tanuki-sunset","temple-run-2","the-final-earth","thebattle",
  "theheist","there-is-no-game","thisistheonlylevel","tossstheturtle","tube-jumpers",
  "tunnel-rush","tv-static","vex3","vex4","vex5","vex6","webretro","webretro-local",
  "wolf3d","wordle","worlds-hardest-game","you-are-bezos12.2"
];

// Optional: assign categories for pagination (5 pages)
const categories = ["Car","War","Gun","Sandbox","Misc"];
const perPage = Math.ceil(games.length / categories.length);
let currentPage = 0;

const container = document.getElementById("gamesContainer");
const paginationEl = document.getElementById("pagination");
const searchBar = document.getElementById("searchBar");

function renderGames(page = 0, filter = "") {
  container.innerHTML = "";
  const start = page * perPage;
  const end = start + perPage;
  const visibleGames = games.filter(g => g.toLowerCase().includes(filter.toLowerCase())).slice(start, end);
  visibleGames.forEach(name => {
    const card = document.createElement("div");
    card.className = "game-card";
    card.innerHTML = `
      <img src="/public/projects/${name}/logo.png" alt="${name} Logo">
      <span>${name}</span>
      <div class="star-btn" onclick="toggleFavorite(event,'${name}')">☆</div>
    `;
    card.onclick = () => window.open(`/public/projects/${name}/index.html`,"_blank");
    container.appendChild(card);
  });
}

function renderPagination(filter = "") {
  paginationEl.innerHTML = "";
  const totalPages = Math.ceil(games.filter(g => g.toLowerCase().includes(filter.toLowerCase())).length / perPage);
  for(let i=0;i<totalPages;i++){
    const btn = document.createElement("div");
    btn.className = "page-btn" + (i===currentPage?" active":"");
    btn.innerText = categories[i] || `Page ${i+1}`;
    btn.onclick = () => { currentPage = i; renderGames(currentPage, searchBar.value); renderPagination(searchBar.value); };
    paginationEl.appendChild(btn);
  }
}

searchBar.addEventListener("input", () => {
  currentPage = 0;
  renderGames(currentPage, searchBar.value);
  renderPagination(searchBar.value);
});

// Favorite functionality
let favorites = JSON.parse(localStorage.getItem("favorites")||"[]");
function toggleFavorite(e,name){
  e.stopPropagation();
  if(favorites.includes(name)) favorites = favorites.filter(f=>f!==name);
  else favorites.push(name);
  localStorage.setItem("favorites",JSON.stringify(favorites));
  e.target.innerText = favorites.includes(name)?"★":"☆";
}

renderGames();
renderPagination();
</script>

</body>
</html>
